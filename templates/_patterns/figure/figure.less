.figure {

  //all figures
  .space(margin-top,4);

  img {
    display: block;
    max-width: 100%;
  }

  &__caption {
    #type > #size > .xsm;
    color: mix(@c_text,white,40%);
    .space(margin-top,2);
    font-style: italic;
  }

  //single image
  &__images {
    #grid > .text;
  }

  &.side-by-side {
    .break-min({
      display: inline-flex;
    });
  }
  &.side-by-side &__caption {
    #grid > .pull;
    .break-min({
      .space(padding-left,2);
      align-self: flex-end;
    });
  }

  &.max &__images {
    width: auto;


    .break-min({
      .space(margin,0,7,0,0);
    });

  }

  &.pull &__images {
    #grid > .text-pull;
  }

  &.full &__images {
    #grid > .text-full;
  }

  &.pull-right {
    float: right;
    .space(margin-left,2);
    max-width: 50%;
    & ~ *:not(p):not(ul):not(ol) {clear: both;}
  }

  //gallery
  &__images--gallery {
    display: flex;
  }

  &.screenshots &__images--gallery {
    flex-direction: column;
    align-items: center;
    .break-min({
      flex-direction: row;
      align-items:flex-start;
    });
  }

  &__images--gallery &__image {
    .break-min({
      .space(padding-right,4);
    });
    .space(padding-right,2);
    &:last-child {padding-right: 0;}
  }

  //stacked
  &.stacked &__images--gallery &__image {
    &:nth-of-type(2) {.space(margin-top,2);}
    &:nth-of-type(3) {.space(margin-top,4);}

  }

  //center
  &.center &__images,
  &.centre &__images {
    display: flex;
    justify-content: center;
  }


  //frames
  .frame--browser {
    border: 1px solid #ccc;
    .space(padding,.5);
    .break-min({
      .space(padding,1);
      box-shadow: 0 0 4px fade(black,20%);
    });

  }

  .frame--phone {
    .space(border-left-width,1);
    .space(border-right-width,1);
    .space(border-bottom-width,3);
    .space(border-top-width,2);
    border-radius: 13px;
    border-color: #FCFCFC;
    border-style: solid;
    background-color: #111111;
    padding: 2px;
    box-shadow: 0 0 0 1px #CCC, 0 0 4px fade(black,40%);
    .space(max-width,18);
    .break-min({
      .space(max-width,27);
      .space(border-left-width,1.5);
      .space(border-right-width,1.5);
      .space(border-bottom-width,6);
      .space(border-top-width,4);
    });
  }

  .frame--polaroid {
    padding: 3px;
    background-color: #F1F1F1;
    border: 10px solid white;
    border-bottom-width: 60px;
    box-shadow: 0 0 0 4px #D1D1D1, 0 0 0 6px white;
  }

}


//overrides per id
#jk-banner {
  @c: #275877;
  .figure__images {
    background-color: @c;
    background-image:
    linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 100%),
    url(/images/wedding/cushion.png);
    border-top: 1px solid darken(@c,20%);
    .space(padding,3,0);
    display: flex;
    justify-content: center;
    box-shadow: inset 0 -10px 10px fade(black,20%);
    .break-min({
      justify-content: flex-start;
      .space(padding,6,0);
      > img {.space(margin-left,14);}
    });
  }

}

#nb-banner {

  .space(padding,6,0);
  .figure__images {
    justify-content: space-between;
  }
  .figure__image {
    padding: 0;
    //max-width: 200px;
    position: relative;
    z-index: -1;
    width: 25%;
  }


  .figure__image:nth-child(1) img {
    transform: rotate(-4.5deg);
  }
  .figure__image:nth-child(2) img {
    transform: rotate(2deg);
  }
  .figure__image:nth-child(3) img {
    transform: rotate(-3deg);
  }
  .figure__image:nth-child(4) img {
    transform: rotate(2.7deg);
    margin-right: 80px;
  }
}
