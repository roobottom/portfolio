//sizes
@base: 16;

@type-s: 17;
@type-m: 19;
@type-l: 23;

@spacing: 8; //spacing base

.space(@prop,@t:1,@r:q,@b:@t,@l:@r) when (isnumber(@r)) { //passing a second param
  @{prop}: unit((@t * @spacing)/@base,rem) unit((@r * @spacing)/@base,rem) unit((@b * @spacing)/@base,rem) unit((@l * @spacing)/@base,rem);
}

.space(@prop,@t:1,@r:q,@b:@t,@l:@r) when not (isnumber(@r)) { //NOT passing a second param
  @{prop}: unit((@t * @spacing)/@base,rem);
}

//colours
@c_primary-darkest: #110241;
@c_primary-dark: #190653;
@c_primary: #21006B;
@c_primary-light: #5C14FF;

@c_secondary-darkest: #9A0D4C;
@c_secondary-dark: #B20251;
@c_secondary: #D70061;
@c_secondary-light: #FF147E;

@c_tertiary-darkest: #004133;
@c_tertiary-dark: #078165;
@c_tertiary: #00C196;
@c_tertiary-light: #50E3C2;

@c_text: #05131F;
@c_link: @c_primary;

//org specific colours
@c_firefly: @c_primary-light;
@c_onalytica: @c_secondary-light;
@c_glaxstar: @c_tertiary;
@c_other: @c_text;

@bp-min: 906;
@bp-mid: 1134;
@bp-max: 1300;

.break-min(@rule) {
  @media screen and (min-width: (unit(@bp-min/@base,em)) ) {
    @rule();
  }
}
.break-mid(@rule) {
  @media screen and (min-width: (unit(@bp-mid/@base,em)) ) {
    @rule();
  }
}
.break-max(@rule) {
  @media screen and (min-width: (unit(@bp-max/@base,em)) ) {
    @rule();
  }
}

@import 'reset';
@import 'typography';
@import '../templates/_patterns/grid/grid';

@import '../templates/_patterns/icon/icon';
@import '../templates/_patterns/title/title';
@import '../templates/_patterns/button/button';
@import '../templates/_patterns/timemarker/timemarker';
@import '../templates/_patterns/teaser/teaser';
@import '../templates/_patterns/figure/figure';
@import '../templates/_patterns/meta/meta';
@import '../templates/_patterns/pagination/pagination';
@import '../templates/_patterns/breadcrumb/breadcrumb';

@import '../templates/_components/logo/logo';
@import '../templates/_components/navigation/navigation';
@import '../templates/_components/prose/prose';
@import '../templates/_components/timeline/timeline';

//global layout
.page {


}

.section--navigation {
  background-color: @c_primary-darkest;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  .space(padding,2,3);

  .break-min({
    height: 100vh;
    overflow: hidden;
    position: fixed;
    top: 0; left: 0;
    flex-direction: column;
    justify-content: flex-start;
    .space(padding,0);
    .space(width,11);
    align-items: center;
  })
}

.section--content {
  .space(padding,1,3);
  overflow-x: hidden;

  .break-min({
    .space(padding,2,0,7,7);
    .space(margin-left,11); //same as nav width
  });


  .page--home & {
    .space(padding,0);
    .break-min({
      .space(padding,0);
      height: 100vh;
    });
  }
}

//specific page styling
.homepage {
  &__intro {
    background-color: @c_primary-dark;
    @nav-bar-height: unit(((@spacing * 4) + 38)/@base,rem); //38 = logo height
    height: ~"calc(100vh - @{nav-bar-height})";
    .space(padding,0,3);

    .break-min({
      height: 100vh;
      .space(padding,0,0,0,7);
    });


    display: flex;
    flex-direction: column;
    align-items: flex-start;

    > h1 {
      #type > #size > .h1;
      color: white;
      font-weight: normal;
      margin-top: auto;
      #grid > .text-full;
    }

    .button {
      .space(margin-bottom,6);
      margin-top: auto;
    }

  }

  &__content {
    min-height: 100vh;
    .space(padding,0,3);

    .break-min({
      .space(padding,7,0,7,7);
      @top-padding: unit((@spacing * 14)/@base,rem);
      min-height: ~"calc(100vh - @{top-padding})";
    });

    > h2 {
      #type > #size > .h1;
      font-weight: normal;
      .space(margin-bottom,2);
    }

  }

}
